<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Infin.Lin 拉霸機</title>
    
    <link rel="apple-touch-icon" href="https://i.imgur.com/vHq0FOn.png">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Infin.Lin">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Noto+Sans+TC:wght@400;700&family=Bungee&display=swap" rel="stylesheet">
    <style>
        :root {
            --k-pink: #ff71ce;
            --k-blue: #01cdfe;
            --k-green: #05ffa1;
            --k-purple: #b967ff;
            --k-yellow: #fffb96;
        }

        body {
            background-color: #0c0014;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 113, 206, 0.2) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(1, 205, 254, 0.2) 0%, transparent 40%);
            font-family: 'Noto Sans TC', sans-serif;
            min-height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            position: fixed;
            width: 100%;
            height: 100%;
        }

        .y2k-container {
            border: 5px solid white;
            outline: 4px solid var(--k-pink);
            box-shadow: 
                0 0 0 8px rgba(255, 113, 206, 0.3),
                15px 15px 0px var(--k-blue),
                0 0 30px rgba(255, 113, 206, 0.6);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border-radius: 40px;
            position: relative;
            width: 95%;
            max-width: 450px;
        }

        .y2k-text-style {
            font-family: 'Bungee', cursive;
            background: linear-gradient(to bottom, #fff, var(--k-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(2px 2px 0 var(--k-blue));
            display: inline-block;
        }

        .text-logo {
            font-size: 2.5rem;
            letter-spacing: -1px;
            transform: rotate(-2deg);
            margin-bottom: 1rem;
        }

        .slot-window {
            height: 120px;
            overflow: hidden;
            border: 3px solid white;
            background: rgba(0, 0, 0, 0.8);
            position: relative;
            border-radius: 20px;
            box-shadow: inset 0 0 15px rgba(1, 205, 254, 0.5);
        }

        .slot-reel {
            transition: transform 4s cubic-bezier(0.15, 0, 0.05, 1);
        }

        .slot-item {
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.95rem;
            font-weight: 800;
            color: #fff;
            text-shadow: 0 0 8px var(--k-pink);
            text-align: center;
            padding: 0 5px;
        }

        .btn-spin {
            background: linear-gradient(145deg, var(--k-pink), var(--k-purple));
            border: 4px solid white;
            color: white;
            font-family: 'Bungee', cursive;
            font-size: 1.5rem;
            border-radius: 50px;
            box-shadow: 0 8px 0px #d400a1;
            transition: all 0.1s;
            cursor: pointer;
        }

        .btn-spin:active:not(:disabled) {
            transform: translateY(6px);
            box-shadow: 0 2px 0px #d400a1;
        }

        .deco-icon {
            position: absolute;
            z-index: 1;
            pointer-events: none;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }
    </style>
</head>
<body>
    
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="deco-icon text-pink-400" style="top: 10%; left: 5%; font-size: 2.5rem; opacity: 0.3;">♥</div>
        <div class="deco-icon text-blue-400" style="bottom: 15%; right: 5%; font-size: 3rem; opacity: 0.3;">★</div>
    </div>

    <div class="y2k-container p-6 text-center">
        <div class="logo-display-container">
            <a href="https://www.instagram.com/lnfin.lin/" target="_blank" class="block">
                <div class="y2k-text-style text-logo">Infin.Lin</div>
            </a>
        </div>

        <header class="mb-6">
            <h1 class="y2k-text-style text-3xl italic">NAIL LABO</h1>
            <p class="text-white bg-black px-3 py-0.5 inline-block mt-1 font-bold text-[10px] tracking-widest italic">RANDOM STYLE GENERATOR</p>
        </header>

        <div class="grid grid-cols-3 gap-2 mb-8">
            <div class="flex flex-col">
                <div class="text-[9px] font-black text-white bg-pink-500 mb-1 rounded-sm py-0.5 uppercase">Shape</div>
                <div class="slot-window"><div class="slot-reel" id="reel-shape"></div></div>
            </div>
            <div class="flex flex-col">
                <div class="text-[9px] font-black text-white bg-blue-500 mb-1 rounded-sm py-0.5 uppercase">Color</div>
                <div class="slot-window"><div class="slot-reel" id="reel-color"></div></div>
            </div>
            <div class="flex flex-col">
                <div class="text-[9px] font-black text-white bg-purple-500 mb-1 rounded-sm py-0.5 uppercase">Element</div>
                <div class="slot-window"><div class="slot-reel" id="reel-element"></div></div>
            </div>
        </div>

        <button id="spin-btn" class="btn-spin w-full h-16 mb-6">SPIN!</button>

        <div id="result-box" class="w-full bg-white text-black p-4 rounded-2xl opacity-0 transform scale-90 transition-all duration-700">
            <div class="bg-blue-400 text-black text-[10px] font-bold px-2 py-0.5 inline-block mb-2 rotate-[-2deg]">TODAY'S K-VIBE</div>
            <div id="result-text" class="text-base font-black italic uppercase leading-tight"></div>
        </div>

        <footer class="mt-8 opacity-30 text-white text-[9px] tracking-tighter">
            INFIN.LIN SYSTEM // VER 4.0 // PWA READY
        </footer>
    </div>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').catch(() => {});
            });
        }

        const shapes = ["圓形", "方形", "橢圓形", "杏仁形", "方圓形", "尖型", "梯形"];
        const colors = ["胭脂紅", "寶寶藍", "薰衣草紫", "水泥灰", "櫻花粉", "乾燥玫瑰", "草莓牛奶", "深酒紅", "蜜桃粉", "豆沙紅", "午夜藍", "霧霾藍", "冰晶藍", "藏青色", "薄荷綠", "橄欖綠", "抹茶綠", "酪梨綠", "青瓷綠", "丁香紫", "葡萄紫", "芋泥紫", "銀河灰", "炭灰色", "藍灰色", "藕灰色", "鉛筆灰", "焦糖棕", "燕麥奶", "碳培咖啡", "泰式奶茶", "伯爵茶", "巧克力", "奶酪色", "楓葉紅", "琥珀棕", "肉桂色", "鵝黃色", "芥末黃", "檸檬黃", "南瓜橙", "珊瑚橘", "夕陽粉", "奶油黃", "亮橙色", "杏色", "香檳色", "極致黑", "象牙白", "透明冰", "珍珠白", "磨砂黑", "香檳金", "玫瑰金", "流沙銀", "青銅色", "透明幻彩", "肉粉色", "煙燻粉", "莫蘭迪青"];
        const elements = ["局部鏡面粉", "十字架", "轉印蕾絲", "水果圖案", "立體凹凸感", "極光粉", "魔鏡粉", "碎鑽粉", "砂糖粉", "細閃銀粉", "美人魚粉", "金屬摩擦感", "立體水滴", "液態金屬", "浮雕花卉", "立體蝴蝶結", "立體愛心", "立體毛呢", "微縮模型", "字母貼紙", "復古報紙", "水彩花朵", "星空紙", "美式塗鴉", "日系和紙", "雷射貼紙", "單色漸層", "雙色暈染", "大理石紋", "雲彩暈染", "極細手繪線", "棋盤格", "格子布紋", "琥珀紋", "豹紋", "法式邊框", "反法式", "極簡圓點", "放射線條", "幾何色塊", "金屬描邊", "不規則邊緣", "金屬鉚釘", "珍珠", "天然石", "切割鑽飾", "金屬鏈條", "貝殼片", "金箔", "銀箔", "乾燥花", "微笑笑臉", "五芒星", "彩色波點", "小熊浮雕", "雲朵", "彩虹", "磨砂霧面", "貓眼光效", "晶石貓眼"];

        function createReel(reelId, items) {
            const reel = document.getElementById(reelId);
            const repeatedItems = Array(20).fill(items).flat();
            repeatedItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'slot-item';
                div.textContent = item;
                reel.appendChild(div);
            });
            return items.length;
        }

        const shapeLen = createReel('reel-shape', shapes);
        const colorLen = createReel('reel-color', colors);
        const elementLen = createReel('reel-element', elements);

        let isSpinning = false;
        const itemHeight = 120;

        document.getElementById('spin-btn').addEventListener('click', function() {
            if (isSpinning) return;
            isSpinning = true;
            this.disabled = true;

            const resultBox = document.getElementById('result-box');
            resultBox.classList.add('opacity-0', 'scale-90');

            const tShape = Math.floor(Math.random() * shapeLen);
            const tColor = Math.floor(Math.random() * colorLen);
            const tElem = Math.floor(Math.random() * elementLen);

            const rounds1 = 8 + Math.floor(Math.random() * 4);
            const rounds2 = 8 + Math.floor(Math.random() * 4);
            const rounds3 = 8 + Math.floor(Math.random() * 4);

            document.getElementById('reel-shape').style.transform = `translateY(-${(shapeLen * rounds1 + tShape) * itemHeight}px)`;
            setTimeout(() => { document.getElementById('reel-color').style.transform = `translateY(-${(colorLen * rounds2 + tColor) * itemHeight}px)`; }, 150);
            setTimeout(() => { document.getElementById('reel-element').style.transform = `translateY(-${(elementLen * rounds3 + tElem) * itemHeight}px)`; }, 300);

            setTimeout(() => {
                document.getElementById('result-text').innerHTML = `
                    <span style="color:var(--k-pink)">${shapes[tShape]}</span> × 
                    <span style="color:var(--k-blue)">${colors[tColor]}</span> × 
                    <span style="color:var(--k-purple)">${elements[tElem]}</span>
                `;
                resultBox.classList.remove('opacity-0', 'scale-90');
                resultBox.classList.add('scale-100');
                isSpinning = false;
                this.disabled = false;
            }, 4500);
        });
    </script>
</body>
</html>
